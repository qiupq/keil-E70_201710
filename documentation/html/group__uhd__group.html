<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAME70 Xplained Software Package: USB Host Driver (UHD)</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">  SAME70 Xplained Software Package 1.5</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>USB Host Driver (UHD)<br/>
<small>
[<a class="el" href="group__usb__host__group.html">USB Stack Host</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p><div class="dynheader">
Collaboration diagram for USB Host Driver (UHD):</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__uhd__group.gif" border="0" alt="" usemap="#group____uhd____group"/>
<map name="group____uhd____group" id="group____uhd____group">
<area shape="rect" id="node1" href="group__usb__host__group.html" title="USB Stack Host" alt="" coords="5,5,144,37"/></map>
</td></tr></table></center>
</div>
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuhd__ctrl__request__t.html">uhd_ctrl_request_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure to store the high level setup request.  <a href="structuhd__ctrl__request__t.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h___pipe_job__t.html">USBH_PipeJob_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure definition to store registered jobs on a pipe.  <a href="struct_u_s_b_h___pipe_job__t.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1f9327e5240f0665f459d242f2066fc1"></a><!-- doxytag: member="uhd_group::UHD_ISOCHRONOUS_NB_BANK" ref="ga1f9327e5240f0665f459d242f2066fc1" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UHD_ISOCHRONOUS_NB_BANK</b>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae9c1f091cdf089e6c3607ff5f6dedadc"></a><!-- doxytag: member="uhd_group::UHD_BULK_NB_BANK" ref="gae9c1f091cdf089e6c3607ff5f6dedadc" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UHD_BULK_NB_BANK</b>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8ee68a7bae20173b77003f961dacc00a"></a><!-- doxytag: member="uhd_group::UHD_INTERRUPT_NB_BANK" ref="ga8ee68a7bae20173b77003f961dacc00a" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UHD_INTERRUPT_NB_BANK</b>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga305e97eac8bfb0052c9efbfc6d070c60"></a><!-- doxytag: member="uhd_group::uhd_callback_reset_t" ref="ga305e97eac8bfb0052c9efbfc6d070c60" args=")(void)" -->
typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga305e97eac8bfb0052c9efbfc6d070c60">uhd_callback_reset_t</a> )(void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">End of reset callback function type. Registered by uhd_send_reset() Callback called when reset event is completed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef bool(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga96bf6cc1dfc70e9ef06e54f7aa0cd02a">uhd_callback_setup_run_t</a> )(uint8_t add, uint8_t **payload, uint16_t *payload_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data setup transfer callback function type. Registered by <a class="el" href="group__uhd__group.html#ga11038bdbac3a23c70a7b7f5abcecc8ba" title="Add a setup request in the control endpoint setup queue. Note: Request timeout is 5s...">USBH_HAL_SetupReq()</a> Called during DATA phase when the (payload) buffer is full or empty. Then the setup request is halted. A new buffer can be provided to continue the DATA phase or abort DATA phase.  <a href="#ga96bf6cc1dfc70e9ef06e54f7aa0cd02a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga48eac59f68de74c0ce604429cb46510e">uhd_callback_setup_end_t</a> )(uint8_t add, <a class="el" href="group__uhd__group.html#ga19c67cc9d097b54049dbc7c12119eb83">USBH_XfrStatus_t</a> status, uint16_t payload_trans)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">End of setup callback function type. Registered by <a class="el" href="group__uhd__group.html#ga11038bdbac3a23c70a7b7f5abcecc8ba" title="Add a setup request in the control endpoint setup queue. Note: Request timeout is 5s...">USBH_HAL_SetupReq()</a> Called when the setup request is completed.  <a href="#ga48eac59f68de74c0ce604429cb46510e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga750fe064c082c913ac202fe1641648d3">uhd_callback_trans_t</a> )(uint8_t add, uint8_t ep, <a class="el" href="group__uhd__group.html#ga19c67cc9d097b54049dbc7c12119eb83">USBH_XfrStatus_t</a> status, uint32_t nb_transfered)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">End of transfer callback function type. Registered by <a class="el" href="group__uhd__group.html#ga1d4a9f98194cb255b2fcb6cdf8d83fb8" title="Allows to receive or send data on an endpoint.">USBH_HAL_RunEndpoint()</a> Callback called by USB interrupt after data transfer or abort (reset,...).  <a href="#ga750fe064c082c913ac202fe1641648d3"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga3d1a10bd9f6a35bd4db20ced8f72474a">USBH_Speed_t</a> { <b>UHD_SPEED_LOW</b> =  0, 
<b>UHD_SPEED_FULL</b> =  1, 
<b>UHD_SPEED_HIGH</b> =  2
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Device speed. </p>
<br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga19c67cc9d097b54049dbc7c12119eb83">USBH_XfrStatus_t</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83a51f2cf9245d0e0d3e7b421c9e6b301b8">UHD_TRANS_NOERROR</a> =  0, 
<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83a43222d17d7126cc526f3e96b9e3cb26e">UHD_TRANS_DISCONNECT</a>, 
<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83a869890b0450c2fc6eff8d2cdac71551f">UHD_TRANS_CRC</a>, 
<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83adfcb327cec42c755aaeaa3af47f61e44">UHD_TRANS_DT_MISMATCH</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83a5743eea90e7ad818b4c29ff54cfc67a9">UHD_TRANS_STALL</a>, 
<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83a917bd794eebf5057b6589bcc02669eb6">UHD_TRANS_NOTRESPONDING</a>, 
<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83aa869c9043392018ac04ba3dd145a0552">UHD_TRANS_PIDFAILURE</a>, 
<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83a5c7e1f0526fb0fbc78231246e3cc3d56">UHD_TRANS_TIMEOUT</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__uhd__group.html#gga19c67cc9d097b54049dbc7c12119eb83ad01b0da250552801bd801152b2a8be92">UHD_TRANS_ABORTED</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p><a class="el" href="struct_endpoint.html">Endpoint</a> transfer status The status field is updated after each transaction attempt, whether successful or not. </p>
 <a href="group__uhd__group.html#ga19c67cc9d097b54049dbc7c12119eb83">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gafcd12a00544aac7645deb694ec611e7a">USBHS_Handler</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga3a715175934fb8bf3c918f04ef0dae2b">USBH_HAL_EnableUsbHost</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables the USB host mode Start the ID pin management if the ID pin is available.  <a href="#ga3a715175934fb8bf3c918f04ef0dae2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga9b45418a37c193dbcff7ef17040cfa30">USBH_HAL_DisableUsb</a> (bool b_id_stop)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disables the USB host mode.  <a href="#ga9b45418a37c193dbcff7ef17040cfa30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__uhd__group.html#ga3d1a10bd9f6a35bd4db20ced8f72474a">USBH_Speed_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga6d1a91042ba3675ea7495dce99f1871b">USBH_HAL_GetSpeed</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the speed of connected device.  <a href="#ga6d1a91042ba3675ea7495dce99f1871b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gaee8af62530aefb6025ad2391361e8895">USBH_HAL_GetFrameNum</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current Start Of Frame (SOF) number.  <a href="#gaee8af62530aefb6025ad2391361e8895"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gae32ed29203116712f786dbc913d96327">USBH_HAL_GetMicroFrameNum</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current micro start of frame number.  <a href="#gae32ed29203116712f786dbc913d96327"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga9cedbbab25d378fecdae30a07b4b811f">USBH_HAL_Reset</a> (<a class="el" href="group__uhd__group.html#ga305e97eac8bfb0052c9efbfc6d070c60">uhd_callback_reset_t</a> callback)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables the Reset state on the USB line.  <a href="#ga9cedbbab25d378fecdae30a07b4b811f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga108d6958efd3c7337897ae40963e3f58"></a><!-- doxytag: member="uhd_group::USBH_HAL_Suspend" ref="ga108d6958efd3c7337897ae40963e3f58" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga108d6958efd3c7337897ae40963e3f58">USBH_HAL_Suspend</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables the suspend state on the USB line. The SUSPEND state is enable when SOF are disabled on USB line. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga45fc0843344e751529a0c4f113aa3d91">USBH_HAL_IsSuspended</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if the suspend state is enabled on the USB line.  <a href="#ga45fc0843344e751529a0c4f113aa3d91"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac9fdf87a0d813bf3717f1440e60c41d8"></a><!-- doxytag: member="uhd_group::USBH_HAL_Resume" ref="gac9fdf87a0d813bf3717f1440e60c41d8" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gac9fdf87a0d813bf3717f1440e60c41d8">USBH_HAL_Resume</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables the IDLE state on the USB line. The IDLE state is enable when SOF are present on USB line. A Downstream Resume signal can be sent. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga11038bdbac3a23c70a7b7f5abcecc8ba">USBH_HAL_SetupReq</a> (uint8_t add, <a class="el" href="struct_u_s_b_generic_request.html">USBGenericRequest</a> *req, uint8_t *payload, uint16_t payload_size, <a class="el" href="group__uhd__group.html#ga96bf6cc1dfc70e9ef06e54f7aa0cd02a">uhd_callback_setup_run_t</a> callback_run, <a class="el" href="group__uhd__group.html#ga48eac59f68de74c0ce604429cb46510e">uhd_callback_setup_end_t</a> callback_end)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a setup request in the control endpoint setup queue. Note: Request timeout is 5s.  <a href="#ga11038bdbac3a23c70a7b7f5abcecc8ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaee441a294b489cd2d9861de8a0139d31"></a><!-- doxytag: member="uhd_group::USBHS_SCB_CleanDCache_by_Addr" ref="gaee441a294b489cd2d9861de8a0139d31" args="(uint32_t *addr, int32_t dsize)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>USBHS_SCB_CleanDCache_by_Addr</b> (uint32_t *addr, int32_t dsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga27e6e1c865c634f55e0ac75a6b3a81b4"></a><!-- doxytag: member="uhd_group::USBHS_SCB_InvalidateDCache_by_Addr" ref="ga27e6e1c865c634f55e0ac75a6b3a81b4" args="(uint32_t *addr, int32_t dsize)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>USBHS_SCB_InvalidateDCache_by_Addr</b> (uint32_t *addr, int32_t dsize)</td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Power management</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9bd8a12bf88a71a560dc9d9cee4be5ba"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga763c7a9a339aa2cb2b670d6446f37147">uhd_uotghs_state_enum</a> { <br/>
&nbsp;&nbsp;<b>UHD_STATE_OFF</b> =  0, 
<b>UHD_STATE_WAIT_ID_HOST</b> =  1, 
<b>UHD_STATE_NO_VBUS</b> =  2, 
<b>UHD_STATE_DISCONNECT</b> =  3, 
<br/>
&nbsp;&nbsp;<b>UHD_STATE_SUSPEND</b> =  4, 
<b>UHD_STATE_IDLE</b> =  5
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>States of USBHS interface. </p>
<br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Control endpoint low level management routine.</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpc60f904f933dd5c177261b92bc2abc62"></a> This function performs control endpoint management. It handles the SETUP/DATA/HANDSHAKE phases of a control transaction. </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gab5c14d3e2e40e55761ffe45496ae5427">uhd_ctrl_request_phase_t</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__uhd__group.html#ggab5c14d3e2e40e55761ffe45496ae5427a4d58c9d6d4a100fafb7a2c99304ef274">UHD_CTRL_REQ_PHASE_SETUP</a> =  0, 
<a class="el" href="group__uhd__group.html#ggab5c14d3e2e40e55761ffe45496ae5427aab15b28a6a920b07a0cc82de1d0c414a">UHD_CTRL_REQ_PHASE_DATA_OUT</a> =  1, 
<a class="el" href="group__uhd__group.html#ggab5c14d3e2e40e55761ffe45496ae5427adad9d075f8a169516efd6b29961612a5">UHD_CTRL_REQ_PHASE_DATA_IN</a> =  2, 
<a class="el" href="group__uhd__group.html#ggab5c14d3e2e40e55761ffe45496ae5427acb0a9b7a084121f4ff48cd53ad76842a">UHD_CTRL_REQ_PHASE_ZLP_IN</a> =  3, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__uhd__group.html#ggab5c14d3e2e40e55761ffe45496ae5427a62b5126d713b2ed56894a6899fda885e">UHD_CTRL_REQ_PHASE_ZLP_OUT</a> =  4
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Bit definitions to store setup request state machine. </p>
 <a href="group__uhd__group.html#gab5c14d3e2e40e55761ffe45496ae5427">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad2628647770aba23602cd668c75f30cd"></a><!-- doxytag: member="uhd_group::uhd_ctrl_request_first" ref="gad2628647770aba23602cd668c75f30cd" args="" -->
struct <a class="el" href="structuhd__ctrl__request__t.html">uhd_ctrl_request_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gad2628647770aba23602cd668c75f30cd">uhd_ctrl_request_first</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Entry points of setup request list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa27beade335f1ccfdd230cd88c5d1e7a"></a><!-- doxytag: member="uhd_group::uhd_ctrl_request_last" ref="gaa27beade335f1ccfdd230cd88c5d1e7a" args="" -->
struct <a class="el" href="structuhd__ctrl__request__t.html">uhd_ctrl_request_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>uhd_ctrl_request_last</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga49ee25dd706f7dedc0598ba7f5575353"></a><!-- doxytag: member="uhd_group::uhd_ctrl_request_timeout" ref="ga49ee25dd706f7dedc0598ba7f5575353" args="" -->
volatile uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga49ee25dd706f7dedc0598ba7f5575353">uhd_ctrl_request_timeout</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remaining time for on-going setup request (No request on-going if equal 0). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga213de2c8a6616c71912577930df2fff0"></a><!-- doxytag: member="uhd_group::uhd_ctrl_nb_trans" ref="ga213de2c8a6616c71912577930df2fff0" args="" -->
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga213de2c8a6616c71912577930df2fff0">uhd_ctrl_nb_trans</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of transfered byte on DATA phase of current setup request. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga07b29cb6c467896f4a7b925c74a54e2c"></a><!-- doxytag: member="uhd_group::uhd_ctrl_request_phase" ref="ga07b29cb6c467896f4a7b925c74a54e2c" args="" -->
<a class="el" href="group__uhd__group.html#gab5c14d3e2e40e55761ffe45496ae5427">uhd_ctrl_request_phase_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>uhd_ctrl_request_phase</b></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Endpoint Management</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp2079b64d60bb0a4d375fcfbbc32aa9e1"></a> The following functions allow drivers to create and remove endpoints, as well as set, clear and query their "halted" and "wedged" states. </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gad9e15307f67bf17a172ce88dc52ff6a3">USBH_HAL_ConfigureControlPipe</a> (uint8_t add, uint16_t ep_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures and enables a control endpoint 0.  <a href="#gad9e15307f67bf17a172ce88dc52ff6a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga8da03709234cba062389fcaee2c62f8b">USBH_HAL_ConfigurePipe</a> (uint8_t add, USBEndpointDescriptor *ep_desc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures and enables an endpoint.  <a href="#ga8da03709234cba062389fcaee2c62f8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga83779ae5393f2318b1eb0856f583b637">USBH_HAL_FreePipe</a> (uint8_t add, uint8_t endp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disables an endpoint or all endpoint of a device.  <a href="#ga83779ae5393f2318b1eb0856f583b637"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga1d4a9f98194cb255b2fcb6cdf8d83fb8">USBH_HAL_RunEndpoint</a> (uint8_t add, uint8_t endp, bool b_shortpacket, uint8_t *buf, uint32_t buf_size, uint16_t timeout, <a class="el" href="group__uhd__group.html#ga750fe064c082c913ac202fe1641648d3">uhd_callback_trans_t</a> callback)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allows to receive or send data on an endpoint.  <a href="#ga1d4a9f98194cb255b2fcb6cdf8d83fb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga410423649d19fc0282fe5012f3455b31">USBH_HAL_AbortEndPoint</a> (uint8_t add, uint8_t endp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Aborts an on-going transfer on an endpoint.  <a href="#ga410423649d19fc0282fe5012f3455b31"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
UHC callbacks to provide for UHD</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpdadcb33f719f2debe61abc0a9139b11f"></a> The following callbacks are used by UHD. </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaab14b5e42335b6361fa392ce889ffdc2"></a><!-- doxytag: member="uhd_group::USBH_start" ref="gaab14b5e42335b6361fa392ce889ffdc2" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gaab14b5e42335b6361fa392ce889ffdc2">USBH_start</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts the host mode. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga819c9e725c718cff7dba36e636066ece">USBH_stop</a> (bool b_id_stop)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stops the host mode.  <a href="#ga819c9e725c718cff7dba36e636066ece"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga78a0073e6ae8ed58cc6a28ea89820ef1">USBH_notify_connection</a> (bool b_plug)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notify device connection or disconnection.  <a href="#ga78a0073e6ae8ed58cc6a28ea89820ef1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#gac60ed6b8615775ae9b773432d4ee8828">USBH_notify_sof</a> (bool b_micro)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notify each start of frame sent by driver.  <a href="#gac60ed6b8615775ae9b773432d4ee8828"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8793c42aa4012a8bb24364f4243b4bff"></a><!-- doxytag: member="uhd_group::USBH_notify_resume" ref="ga8793c42aa4012a8bb24364f4243b4bff" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uhd__group.html#ga8793c42aa4012a8bb24364f4243b4bff">USBH_notify_resume</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notify that a resume bus occurs A resume can occur after a downstream or an upstream resume. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="USB_CONF"></a>
USB dual role configuration</h2>
<p>The defines UHD_ENABLE and UDD_ENABLE must be added in project to allow the USB low level (UHD) to manage or not the dual role (device and host).</p>
<h2><a class="anchor" id="USBHS_CONF"></a>
USBHS Custom configuration</h2>
<p>The following USBHS driver configuration must be defined in conf_usb_host.h file of the application.</p>
<p>UHD_USB_INT_LEVEL<br/>
 Option to change the interrupt priority (0 to 15) by default 5 (recommended).</p>
<p>UHD_USB_INT_FUN<br/>
 Option to fit interrupt function to what defined in exception table.</p>
<p>UHD_ISOCHRONOUS_NB_BANK<br/>
 Feature to reduce or increase isochronous endpoints buffering (1 to 2). Default value 2.</p>
<p>UHD_BULK_NB_BANK<br/>
 Feature to reduce or increase bulk endpoints buffering (1 to 2). Default value 2.</p>
<p>UHD_INTERRUPT_NB_BANK<br/>
 Feature to reduce or increase interrupt endpoints buffering (1 to 2). Default value 1.</p>
<h2><a class="anchor" id="Callbacks"></a>
management</h2>
<p>The USB driver is fully managed by interrupt and does not request periodic task. Thereby, the USB events use callbacks to transfer the information. The callbacks can be declared in static during compilation or dynamically during code execution.</p>
<h2><a class="anchor" id="Power"></a>
mode management</h2>
<p>The driver uses the sleepmgr service to manage the different sleep modes. The sleep mode depends on USB driver state (uhd_uotghs_state_enum).</p>
<p>The UHD driver provides a low-level abstraction of the host controller hardware. Most events coming from the hardware such as interrupts may cause the UHD performing function call in UHC and UHI. </p>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga48eac59f68de74c0ce604429cb46510e"></a><!-- doxytag: member="USBHDriver.h::uhd_callback_setup_end_t" ref="ga48eac59f68de74c0ce604429cb46510e" args=")(uint8_t add, USBH_XfrStatus_t status, uint16_t payload_trans)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="group__uhd__group.html#ga48eac59f68de74c0ce604429cb46510e">uhd_callback_setup_end_t</a>)(uint8_t add, <a class="el" href="group__uhd__group.html#ga19c67cc9d097b54049dbc7c12119eb83">USBH_XfrStatus_t</a> status, uint16_t payload_trans)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>End of setup callback function type. Registered by <a class="el" href="group__uhd__group.html#ga11038bdbac3a23c70a7b7f5abcecc8ba" title="Add a setup request in the control endpoint setup queue. Note: Request timeout is 5s...">USBH_HAL_SetupReq()</a> Called when the setup request is completed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address of the setup request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td><a class="el" href="struct_transfer.html">Transfer</a> status </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload_trans</em>&nbsp;</td><td>Number of data transfered during DATA phase </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_u_s_b_h_driver_8h_source.html#l00138">138</a> of file <a class="el" href="_u_s_b_h_driver_8h_source.html">USBHDriver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga96bf6cc1dfc70e9ef06e54f7aa0cd02a"></a><!-- doxytag: member="USBHDriver.h::uhd_callback_setup_run_t" ref="ga96bf6cc1dfc70e9ef06e54f7aa0cd02a" args=")(uint8_t add, uint8_t **payload, uint16_t *payload_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* <a class="el" href="group__uhd__group.html#ga96bf6cc1dfc70e9ef06e54f7aa0cd02a">uhd_callback_setup_run_t</a>)(uint8_t add, uint8_t **payload, uint16_t *payload_size)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Data setup transfer callback function type. Registered by <a class="el" href="group__uhd__group.html#ga11038bdbac3a23c70a7b7f5abcecc8ba" title="Add a setup request in the control endpoint setup queue. Note: Request timeout is 5s...">USBH_HAL_SetupReq()</a> Called during DATA phase when the (payload) buffer is full or empty. Then the setup request is halted. A new buffer can be provided to continue the DATA phase or abort DATA phase. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address of the setup request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload</em>&nbsp;</td><td>To return the next buffer address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload_size</em>&nbsp;</td><td>To return the size of next buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code>, if a new buffer is available, otherwise stop the request. </dd></dl>

<p>Definition at line <a class="el" href="_u_s_b_h_driver_8h_source.html#l00124">124</a> of file <a class="el" href="_u_s_b_h_driver_8h_source.html">USBHDriver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga750fe064c082c913ac202fe1641648d3"></a><!-- doxytag: member="USBHDriver.h::uhd_callback_trans_t" ref="ga750fe064c082c913ac202fe1641648d3" args=")(uint8_t add, uint8_t ep, USBH_XfrStatus_t status, uint32_t nb_transfered)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="group__uhd__group.html#ga750fe064c082c913ac202fe1641648d3">uhd_callback_trans_t</a>)(uint8_t add, uint8_t ep, <a class="el" href="group__uhd__group.html#ga19c67cc9d097b54049dbc7c12119eb83">USBH_XfrStatus_t</a> status, uint32_t nb_transfered)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>End of transfer callback function type. Registered by <a class="el" href="group__uhd__group.html#ga1d4a9f98194cb255b2fcb6cdf8d83fb8" title="Allows to receive or send data on an endpoint.">USBH_HAL_RunEndpoint()</a> Callback called by USB interrupt after data transfer or abort (reset,...). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address used by the transfer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td><a class="el" href="struct_transfer.html">Transfer</a> status </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nb_transfered</em>&nbsp;</td><td>Number of data transfered </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_u_s_b_h_driver_8h_source.html#l00152">152</a> of file <a class="el" href="_u_s_b_h_driver_8h_source.html">USBHDriver.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gab5c14d3e2e40e55761ffe45496ae5427"></a><!-- doxytag: member="USBH_HAL.c::uhd_ctrl_request_phase_t" ref="gab5c14d3e2e40e55761ffe45496ae5427" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__uhd__group.html#gab5c14d3e2e40e55761ffe45496ae5427">uhd_ctrl_request_phase_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bit definitions to store setup request state machine. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggab5c14d3e2e40e55761ffe45496ae5427a4d58c9d6d4a100fafb7a2c99304ef274"></a><!-- doxytag: member="UHD_CTRL_REQ_PHASE_SETUP" ref="ggab5c14d3e2e40e55761ffe45496ae5427a4d58c9d6d4a100fafb7a2c99304ef274" args="" -->UHD_CTRL_REQ_PHASE_SETUP</em>&nbsp;</td><td>
<p>Wait a SETUP packet. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab5c14d3e2e40e55761ffe45496ae5427aab15b28a6a920b07a0cc82de1d0c414a"></a><!-- doxytag: member="UHD_CTRL_REQ_PHASE_DATA_OUT" ref="ggab5c14d3e2e40e55761ffe45496ae5427aab15b28a6a920b07a0cc82de1d0c414a" args="" -->UHD_CTRL_REQ_PHASE_DATA_OUT</em>&nbsp;</td><td>
<p>Wait a OUT data packet. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab5c14d3e2e40e55761ffe45496ae5427adad9d075f8a169516efd6b29961612a5"></a><!-- doxytag: member="UHD_CTRL_REQ_PHASE_DATA_IN" ref="ggab5c14d3e2e40e55761ffe45496ae5427adad9d075f8a169516efd6b29961612a5" args="" -->UHD_CTRL_REQ_PHASE_DATA_IN</em>&nbsp;</td><td>
<p>Wait a IN data packet. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab5c14d3e2e40e55761ffe45496ae5427acb0a9b7a084121f4ff48cd53ad76842a"></a><!-- doxytag: member="UHD_CTRL_REQ_PHASE_ZLP_IN" ref="ggab5c14d3e2e40e55761ffe45496ae5427acb0a9b7a084121f4ff48cd53ad76842a" args="" -->UHD_CTRL_REQ_PHASE_ZLP_IN</em>&nbsp;</td><td>
<p>Wait a IN ZLP packet. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab5c14d3e2e40e55761ffe45496ae5427a62b5126d713b2ed56894a6899fda885e"></a><!-- doxytag: member="UHD_CTRL_REQ_PHASE_ZLP_OUT" ref="ggab5c14d3e2e40e55761ffe45496ae5427a62b5126d713b2ed56894a6899fda885e" args="" -->UHD_CTRL_REQ_PHASE_ZLP_OUT</em>&nbsp;</td><td>
<p>Wait a OUT ZLP packet. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_u_s_b_h___h_a_l_8c_source.html#l00285">285</a> of file <a class="el" href="_u_s_b_h___h_a_l_8c_source.html">USBH_HAL.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga19c67cc9d097b54049dbc7c12119eb83"></a><!-- doxytag: member="USBHDriver.h::USBH_XfrStatus_t" ref="ga19c67cc9d097b54049dbc7c12119eb83" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__uhd__group.html#ga19c67cc9d097b54049dbc7c12119eb83">USBH_XfrStatus_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="struct_endpoint.html">Endpoint</a> transfer status The status field is updated after each transaction attempt, whether successful or not. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83a51f2cf9245d0e0d3e7b421c9e6b301b8"></a><!-- doxytag: member="UHD_TRANS_NOERROR" ref="gga19c67cc9d097b54049dbc7c12119eb83a51f2cf9245d0e0d3e7b421c9e6b301b8" args="" -->UHD_TRANS_NOERROR</em>&nbsp;</td><td>
<p>Transaction is successful. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83a43222d17d7126cc526f3e96b9e3cb26e"></a><!-- doxytag: member="UHD_TRANS_DISCONNECT" ref="gga19c67cc9d097b54049dbc7c12119eb83a43222d17d7126cc526f3e96b9e3cb26e" args="" -->UHD_TRANS_DISCONNECT</em>&nbsp;</td><td>
<p>Device is disconnected. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83a869890b0450c2fc6eff8d2cdac71551f"></a><!-- doxytag: member="UHD_TRANS_CRC" ref="gga19c67cc9d097b54049dbc7c12119eb83a869890b0450c2fc6eff8d2cdac71551f" args="" -->UHD_TRANS_CRC</em>&nbsp;</td><td>
<p>CRC error in data packet. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83adfcb327cec42c755aaeaa3af47f61e44"></a><!-- doxytag: member="UHD_TRANS_DT_MISMATCH" ref="gga19c67cc9d097b54049dbc7c12119eb83adfcb327cec42c755aaeaa3af47f61e44" args="" -->UHD_TRANS_DT_MISMATCH</em>&nbsp;</td><td>
<p>Data toggle PID did not match the expected value. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83a5743eea90e7ad818b4c29ff54cfc67a9"></a><!-- doxytag: member="UHD_TRANS_STALL" ref="gga19c67cc9d097b54049dbc7c12119eb83a5743eea90e7ad818b4c29ff54cfc67a9" args="" -->UHD_TRANS_STALL</em>&nbsp;</td><td>
<p>The endpoint returned a STALL PID. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83a917bd794eebf5057b6589bcc02669eb6"></a><!-- doxytag: member="UHD_TRANS_NOTRESPONDING" ref="gga19c67cc9d097b54049dbc7c12119eb83a917bd794eebf5057b6589bcc02669eb6" args="" -->UHD_TRANS_NOTRESPONDING</em>&nbsp;</td><td>
<p>Device did not respond to token (IN) or did not provide a handshake (OUT) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83aa869c9043392018ac04ba3dd145a0552"></a><!-- doxytag: member="UHD_TRANS_PIDFAILURE" ref="gga19c67cc9d097b54049dbc7c12119eb83aa869c9043392018ac04ba3dd145a0552" args="" -->UHD_TRANS_PIDFAILURE</em>&nbsp;</td><td>
<p>Check bits on PID from endpoint failed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83a5c7e1f0526fb0fbc78231246e3cc3d56"></a><!-- doxytag: member="UHD_TRANS_TIMEOUT" ref="gga19c67cc9d097b54049dbc7c12119eb83a5c7e1f0526fb0fbc78231246e3cc3d56" args="" -->UHD_TRANS_TIMEOUT</em>&nbsp;</td><td>
<p>Data transmission not completed before timeout. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga19c67cc9d097b54049dbc7c12119eb83ad01b0da250552801bd801152b2a8be92"></a><!-- doxytag: member="UHD_TRANS_ABORTED" ref="gga19c67cc9d097b54049dbc7c12119eb83ad01b0da250552801bd801152b2a8be92" args="" -->UHD_TRANS_ABORTED</em>&nbsp;</td><td>
<p>Data transmission has been aborted. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_u_s_b_h_driver_8h_source.html#l00073">73</a> of file <a class="el" href="_u_s_b_h_driver_8h_source.html">USBHDriver.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga410423649d19fc0282fe5012f3455b31"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_AbortEndPoint" ref="ga410423649d19fc0282fe5012f3455b31" args="(uint8_t add, uint8_t endp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_HAL_AbortEndPoint </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>endp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Aborts an on-going transfer on an endpoint. </p>
<p>If a transfer is on going, then it is stopped and the callback registered is called to signal the end of transfer. Note: The control endpoint is not authorized.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address of endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endp</em>&nbsp;</td><td><a class="el" href="struct_endpoint.html">Endpoint</a> to abort </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad9e15307f67bf17a172ce88dc52ff6a3"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_ConfigureControlPipe" ref="gad9e15307f67bf17a172ce88dc52ff6a3" args="(uint8_t add, uint16_t ep_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USBH_HAL_ConfigureControlPipe </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>ep_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configures and enables a control endpoint 0. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address of endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_size</em>&nbsp;</td><td><a class="el" href="struct_endpoint.html">Endpoint</a> control maximum size</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>1</code> if the endpoint is enabled, otherwise <code>0</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8da03709234cba062389fcaee2c62f8b"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_ConfigurePipe" ref="ga8da03709234cba062389fcaee2c62f8b" args="(uint8_t add, USBEndpointDescriptor *ep_desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USBH_HAL_ConfigurePipe </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USBEndpointDescriptor *&nbsp;</td>
          <td class="paramname"> <em>ep_desc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configures and enables an endpoint. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address of endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_desc</em>&nbsp;</td><td><a class="el" href="struct_endpoint.html">Endpoint</a> descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>1</code> if the endpoint is enabled, otherwise <code>0</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9b45418a37c193dbcff7ef17040cfa30"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_DisableUsb" ref="ga9b45418a37c193dbcff7ef17040cfa30" args="(bool b_id_stop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_HAL_DisableUsb </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>b_id_stop</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables the USB host mode. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b_id_stop</em>&nbsp;</td><td>Stop ID pin management, if true. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3a715175934fb8bf3c918f04ef0dae2b"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_EnableUsbHost" ref="ga3a715175934fb8bf3c918f04ef0dae2b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_HAL_EnableUsbHost </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables the USB host mode Start the ID pin management if the ID pin is available. </p>

<p><p>Freeze USB clock to use wakeup interrupt to detect connection. After detection of wakeup interrupt, the clock is unfreeze to have the true connection interrupt.</p>
</p>

</div>
</div>
<a class="anchor" id="ga83779ae5393f2318b1eb0856f583b637"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_FreePipe" ref="ga83779ae5393f2318b1eb0856f583b637" args="(uint8_t add, uint8_t endp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_HAL_FreePipe </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>endp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables an endpoint or all endpoint of a device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address of endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endp</em>&nbsp;</td><td><a class="el" href="struct_endpoint.html">Endpoint</a> number and direction (USB_EP_DIR_IN/OUT). Remove all endpoints of USB address, if 0xFF. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaee8af62530aefb6025ad2391361e8895"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_GetFrameNum" ref="gaee8af62530aefb6025ad2391361e8895" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t USBH_HAL_GetFrameNum </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current Start Of Frame (SOF) number. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>current start of frame number. </dd></dl>

</div>
</div>
<a class="anchor" id="gae32ed29203116712f786dbc913d96327"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_GetMicroFrameNum" ref="gae32ed29203116712f786dbc913d96327" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t USBH_HAL_GetMicroFrameNum </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current micro start of frame number. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>current micro start of frame number required in high speed mode. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6d1a91042ba3675ea7495dce99f1871b"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_GetSpeed" ref="ga6d1a91042ba3675ea7495dce99f1871b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__uhd__group.html#ga3d1a10bd9f6a35bd4db20ced8f72474a">USBH_Speed_t</a> USBH_HAL_GetSpeed </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the speed of connected device. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Device speed </dd></dl>

</div>
</div>
<a class="anchor" id="ga45fc0843344e751529a0c4f113aa3d91"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_IsSuspended" ref="ga45fc0843344e751529a0c4f113aa3d91" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USBH_HAL_IsSuspended </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Test if the suspend state is enabled on the USB line. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>USB line in SUSPEND state, if true </dd></dl>

</div>
</div>
<a class="anchor" id="ga9cedbbab25d378fecdae30a07b4b811f"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_Reset" ref="ga9cedbbab25d378fecdae30a07b4b811f" args="(uhd_callback_reset_t callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_HAL_Reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__uhd__group.html#ga305e97eac8bfb0052c9efbfc6d070c60">uhd_callback_reset_t</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables the Reset state on the USB line. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>Callback when reset sequence is finished </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1d4a9f98194cb255b2fcb6cdf8d83fb8"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_RunEndpoint" ref="ga1d4a9f98194cb255b2fcb6cdf8d83fb8" args="(uint8_t add, uint8_t endp, bool b_shortpacket, uint8_t *buf, uint32_t buf_size, uint16_t timeout, uhd_callback_trans_t callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USBH_HAL_RunEndpoint </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>endp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>b_shortpacket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>buf_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__uhd__group.html#ga750fe064c082c913ac202fe1641648d3">uhd_callback_trans_t</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allows to receive or send data on an endpoint. </p>
<p>If a USB DMA is available, the driver uses it to transfer endpoint data from or to internal RAM. When the transfer is finished or aborted (stall, reset, ...), the <em>callback</em> is called. This callback returns the transfer status and eventually the number of byte transfered. Note: The control endpoint is not authorized.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address of endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endp</em>&nbsp;</td><td><a class="el" href="struct_endpoint.html">Endpoint</a> number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b_shortpacket</em>&nbsp;</td><td>Enabled automatic short packet </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Buffer on Internal RAM to send or fill. It must be align, then use COMPILER_WORD_ALIGNED. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf_size</em>&nbsp;</td><td>Buffer size to send or fill </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td><a class="el" href="struct_transfer.html">Transfer</a> timeout (ms) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>NULL or function to call at the end of transfer</td></tr>
  </table>
  </dd>
</dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>About <em>b_shortpacket</em>, for OUT endpoint it means that a short packet or a Zero Length Packet must be sent to the USB line to properly close the USB transfer at the end of the data transfer. For Bulk and Interrupt IN endpoint, it will automatically stop the transfer at the end of the data transfer (received short packet).</dd>
<dd>
About <em>timeout</em>, for BULK endpoint with <em>timeout</em> set to zero, it means that the transfer will never be stopped before transfer done. Since most of USB embedded peripherals do not manage the transfer bandwidth by peripheral hardware, such a BULK transfer will occupy all USB non-periodic transfer bandwidth. In this case, other BULK transfers started later will be pending until this transfer is done and bandwidth released. So it is better to use BULK transfers with none zero <em>timeout</em>.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>1</code> if function was successfully done, otherwise <code>0</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga11038bdbac3a23c70a7b7f5abcecc8ba"></a><!-- doxytag: member="USBH_HAL.c::USBH_HAL_SetupReq" ref="ga11038bdbac3a23c70a7b7f5abcecc8ba" args="(uint8_t add, USBGenericRequest *req, uint8_t *payload, uint16_t payload_size, uhd_callback_setup_run_t callback_run, uhd_callback_setup_end_t callback_end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USBH_HAL_SetupReq </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_u_s_b_generic_request.html">USBGenericRequest</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>payload_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__uhd__group.html#ga96bf6cc1dfc70e9ef06e54f7aa0cd02a">uhd_callback_setup_run_t</a>&nbsp;</td>
          <td class="paramname"> <em>callback_run</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__uhd__group.html#ga48eac59f68de74c0ce604429cb46510e">uhd_callback_setup_end_t</a>&nbsp;</td>
          <td class="paramname"> <em>callback_end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a setup request in the control endpoint setup queue. Note: Request timeout is 5s. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>add</em>&nbsp;</td><td>USB address of control endpoint </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>req</em>&nbsp;</td><td>Setup request definition </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload</em>&nbsp;</td><td>Buffer to use in setup DATA phase </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload_size</em>&nbsp;</td><td>Size of buffer used in DATA phase </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback_run</em>&nbsp;</td><td>Callback to call if buffer is empty or full </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback_end</em>&nbsp;</td><td>Callback to call when request is finish</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if the request has been accepted, otherwise <code>false</code>. Note: The swap of "req.wValues" from uin16_t to le16_t is done by UHD. </dd></dl>

</div>
</div>
<a class="anchor" id="ga78a0073e6ae8ed58cc6a28ea89820ef1"></a><!-- doxytag: member="USBHDriver.h::USBH_notify_connection" ref="ga78a0073e6ae8ed58cc6a28ea89820ef1" args="(bool b_plug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_notify_connection </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>b_plug</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify device connection or disconnection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b_plug</em>&nbsp;</td><td>Device connection, if true </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_u_s_b_h_8c_source.html#l01024">1024</a> of file <a class="el" href="_u_s_b_h_8c_source.html">USBH.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac60ed6b8615775ae9b773432d4ee8828"></a><!-- doxytag: member="USBHDriver.h::USBH_notify_sof" ref="gac60ed6b8615775ae9b773432d4ee8828" args="(bool b_micro)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_notify_sof </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>b_micro</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify each start of frame sent by driver. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b_micro</em>&nbsp;</td><td>It is a micro start of frame, if true </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_u_s_b_h_8c_source.html#l01044">1044</a> of file <a class="el" href="_u_s_b_h_8c_source.html">USBH.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga819c9e725c718cff7dba36e636066ece"></a><!-- doxytag: member="USBHDriver.h::USBH_stop" ref="ga819c9e725c718cff7dba36e636066ece" args="(bool b_id_stop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_stop </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>b_id_stop</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stops the host mode. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b_id_stop</em>&nbsp;</td><td>Stop USB ID pin management, if true. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_u_s_b_h_8c_source.html#l01091">1091</a> of file <a class="el" href="_u_s_b_h_8c_source.html">USBH.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__uhd__group_ga819c9e725c718cff7dba36e636066ece_cgraph.gif" border="0" usemap="#group__uhd__group_ga819c9e725c718cff7dba36e636066ece_cgraph" alt=""/></div>
<map name="group__uhd__group_ga819c9e725c718cff7dba36e636066ece_cgraph" id="group__uhd__group_ga819c9e725c718cff7dba36e636066ece_cgraph">
<area shape="rect" id="node3" href="group__uhd__group.html#ga9b45418a37c193dbcff7ef17040cfa30" title="Disables the USB host mode." alt="" coords="160,5,357,37"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gafcd12a00544aac7645deb694ec611e7a"></a><!-- doxytag: member="USBH_HAL.c::USBHS_Handler" ref="gafcd12a00544aac7645deb694ec611e7a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHS_Handler </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>USBD (UDP) interrupt handler Manages device resume, suspend, end of bus reset. Forwards endpoint events to the appropriate handler. </p>

<p>Definition at line <a class="el" href="_u_s_b_h___h_a_l_8c_source.html#l00394">394</a> of file <a class="el" href="_u_s_b_h___h_a_l_8c_source.html">USBH_HAL.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__uhd__group_gafcd12a00544aac7645deb694ec611e7a_cgraph.gif" border="0" usemap="#group__uhd__group_gafcd12a00544aac7645deb694ec611e7a_cgraph" alt=""/></div>
<map name="group__uhd__group_gafcd12a00544aac7645deb694ec611e7a_cgraph" id="group__uhd__group_gafcd12a00544aac7645deb694ec611e7a_cgraph">
<area shape="rect" id="node3" href="group___u_s_b_h__group__interne.html#ga78a0073e6ae8ed58cc6a28ea89820ef1" title="Notify device connection or disconnection." alt="" coords="208,5,411,37"/><area shape="rect" id="node5" href="usbhs_8h.html#aab0688b661054b73b5c9fe45e59ea015" title="Gets USB host interrupt status." alt="" coords="208,61,411,93"/><area shape="rect" id="node7" href="usbhs_8h.html#ac783c1af3755deab237694ce7b4579bf" title="Sets USB host Enable the Generation of Start of Frame." alt="" coords="225,117,393,149"/><area shape="rect" id="node9" href="usbhs_8h.html#a40267eb93445cc78fe9b243d25622f9c" title="Gets USB host interrupt status." alt="" coords="216,173,403,205"/><area shape="rect" id="node11" href="usbhs_8h.html#aa9a5b060519f982e8cd29dc32754b5a9" title="Gets USB host interrupt status." alt="" coords="215,229,404,261"/><area shape="rect" id="node13" href="usbhs_8h.html#a7ac646519dfb6c319d8a60f08b5e4c29" title="Gets USB host interrupt status." alt="" coords="216,285,403,317"/><area shape="rect" id="node15" href="usbhs_8h.html#a6e707992fde3a408663eae6e34b00deb" title="Gets USB host interrupt status." alt="" coords="211,341,408,373"/><area shape="rect" id="node17" href="usbhs_8h.html#af53df9330077448ac0d721dbef847c9f" title="Check if clock is usable or not." alt="" coords="213,397,405,429"/><area shape="rect" id="node19" href="usbhs_8h.html#a3a003f0bc5f5ed08ba3253028bd04923" title="Enable or disable USB address." alt="" coords="207,453,412,485"/><area shape="rect" id="node21" href="usbhs_8h.html#a017b00c66ba92abe86f341381e3795ee" title="Enable or disable USB address." alt="" coords="208,509,411,541"/><area shape="rect" id="node23" href="usbhs_8h.html#abe1074ea76550225e959d5628d6b38a4" title="Sets USB host send Resume on USB bus." alt="" coords="237,565,381,597"/><area shape="rect" id="node25" href="usbhs_8h.html#ace6971cff0c4aeb589dd3caf663a2756" title="Raise interrupt for endpoint." alt="" coords="255,621,364,653"/><area shape="rect" id="node27" href="usbhs_8h.html#af5209f422709bb346dd8906a84594481" title="Sets USB host&#39;s speed to Normal , it sets to HS from FS." alt="" coords="199,677,420,709"/><area shape="rect" id="node29" href="usbhs_8h.html#aac479594b09aba35a095529855449a42" title="Sets USB host sends reste signal on USB Bus." alt="" coords="229,733,389,765"/><area shape="rect" id="node31" href="usbhs_8h.html#a78d27724945f587c54cba1d9617979c8" title="Freeze or unfreeze USB clock." alt="" coords="211,789,408,821"/></map>
</div>
</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
